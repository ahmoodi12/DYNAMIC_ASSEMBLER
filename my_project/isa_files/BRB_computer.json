{
    "hardware": {
        "arcitecture": [
            "harvard",
            "RISC"
        ],
        "reg file size": 16,
        "inst size": 1,
        "address width": 16,
        "data width": 8
    },
    "operand types": {
        "opcode": {"re": "", "size": 4},
        "reg": {"aliases": ["register", "reg"], "re": "r(\\d+)", "size": 4},
        "address": {
            "aliases": ["addr", "address"],
            "re": "\\$([+-]?(?:0x[0-9a-fA-F]+|0b[01]+|0o[0-7]+|\\d+))",
            "size": 16
        },
        "immediate": {
            "aliases": ["imm", "immediate"],
            "re": "([+-]?(?:0x[0-9a-fA-F]+|0b[01]+|0o[0-7]+|\\d+))",
            "size": 16
        },
        "variable": {"aliases": ["var", "variable"], "re": "(\\w+)", "size": 16}    
    },
    "opcodes": {
        "nop": 4,
        "mov": 11,
        "ldi": 11,
        "lod": 11,
        "sto": 11,
        "lodi": 12,
        "stoi": 13,
        "add": 0,
        "adc": 1,
        "sub": 2,
        "sbc": 3,
        "not": 5,
        "neg": 1,
        "or": 6,
        "and": 7,
        "xor": 8,
        "rsh": 5,
        "rshc": 5,
        "lsh": 5,
        "lshc": 5,
        "rsha": 5,
        "cmp": 14,
        "test": 15,
        "addi": 9,
        "adci": 9,
        "subi": 9,
        "sbci": 9,
        "ori": 9,
        "andi": 9,
        "xori": 9,
        "rshci": 9,
        "lshci": 9,
        "cmpi": 9,
        "testi": 9
    },
    "pseudo instructions": {
        "call": [
            "bfpc",
            "stoi $0xfefc, r0",
            "stoi $0xfefb, r1",
            "lodpcl r0",
            "lodpch r1",
            "addi r0, 14, r0",
            "adci r1, 0, r1",
            "push r1",
            "push r0",
            "lodi $0xfefc, r0",
            "lodi $0xfefb, r1",
            "jmp {op1}",
            "lodi $0xfefc, r0",
            "lodi $0xfefb, r1"
        ],
        "return": [
            "stoi $0xfefc, r0",
            "stoi $0xfefb, r1",
            "pop r0",
            "pop r1",
            "jmpr r1, r0"
        ],
        "push": [
            "sto $1, r15, {op1}",
            "inc r15"
        ],
        "pop": [
            "dec r15",
            "lod $1, r15, {op1}"
        ],
        "clr": [
            "ldi {op1}, 0"
        ],
        "inc": [
            "addi {op1}, 1, {op1}"
        ],
        "dec": [
            "subi {op1}, 1, {op1}"
        ],
        "halt": [
            "HALT_:",
            "   jmp HALT_"
        ],
        "reset": [
            "jmp 0"
        ]
    },
    "syntax templates": {
        "empty": [],
        "rr": ["reg", "reg"],
        "r": ["reg"],
        "i": ["imm"],
        "ri": ["reg", "imm"],
        "arr": ["addr", "reg", "reg"],
        "ar": ["addr", "reg"],
        "rrr": ["reg", "reg", "reg"],
        "rri": ["reg", "reg", "imm"],
        "ri_r": ["reg", "imm", "reg"],
        "addr": ["addr"],
        "i_r": ["imm", "reg"]
    },
    
    "syntax": {
        "call": "addr",
        "return": "empty",
        "push": "r",
        "pop": "r",
        "inc": "r",
        "dec": "r",
        "halt": "empty",
        "reset": "empty",
        "clr": "r",

        "jmpr": "rr",
        "lodpcl": "r",
        "lodpch": "r",
        "bfpc": "empty",
        "nop": "empty",
        
        "mov": "rr",
        "ldi": "ri",
        "lod": "arr",
        "sto": "arr",
        "ldif": "i",
        "mov_fr": "r",
        "mov_rf": "r",

        "lodi": "ar",
        "stoi": "ar",

        "add":  "rrr",
        "adc":  "rrr",
        "sub":  "rrr",
        "sbc":  "rrr",
        "not":  "rr",
        "neg":  "rr",
        "or":   "rrr",
        "and":  "rrr",
        "xor":  "rrr",
        "rsh":  "rr",
        "rshc": "rr",
        "lsh":  "rr",
        "lshc": "rr",
        "rsha": "rr",
        "cmp":  "rr",
        "test": "rr",

        "addi": "ri_r",
        "adci": "ri_r",
        "subi": "ri_r",
        "sbci": "ri_r",
        "ori": "ri_r",
        "andi": "ri_r",
        "xori": "ri_r",
        "rshci": "i_r",
        "lshci": "i_r",
        "cmpi": "ri",
        "testi": "ri",

        "jmp": "addr",
        "jze": "addr",
        "jne": "addr",
        "jnn": "addr",
        "jca": "addr",
        "jnc": "addr",
        "jnz": "addr",
        "jgt": "addr",
        "jle": "addr",
        "jult": "addr",
        "juge": "addr",
        "jpos": "addr",
        "jov": "addr",
        "jnov": "addr"
    },
    "encoding templates": {
        "abc": ["0000_0000_AAAA_BBBB_CCCC_'(opcode)"]
    },
    "encoding": {
        "jmpr": ["0000_0000_aaaa_bbbb_0000_0100"],
        "lodpcl": ["0000_0000_AAAA_0000_0001_0100"],
        "lodpch": ["0000_0000_AAAA_0000_0010_0100"],
        "bfpc": ["0000_0000_0000_0000_0011_0100"],
        "nop": ["0000_0000_0000_0000_0100_0100"],
        
        "mov": ["AAAA_BBBB_0001_0000_0000_1011"],
        "ldi": ["BBBB_BBBB_AAAA_0000_0001_1011"],
        "lod": ["AAAA_AAAA_BBBB_CCCC_0010_1011"],
        "sto": ["AAAA_AAAA_BBBB_CCCC_0011_1011"],
        "mov_fr": ["0000_0000_AAAA_0000_0101_1011"],
        "mov_rf": ["0000_0000_AAAA_0000_0110_1011"],


        "lodi": ["AAAA_AAAA_AAAA_AAAA_BBBB_1100"],
        "stoi": ["AAAA_AAAA_AAAA_AAAA_BBBB_1101"],

        "add": "abc",
        "adc": "abc",
        "sub": "abc",
        "sbc": "abc",
        "not": ["0000_0000_AAAA_BBBB_0000_0101"],
        "neg": ["0000_0000_AAAA_BBBB_0001_0101"],
        "or": "abc",
        "and": "abc",
        "xor": "abc",
        "rsh": ["0000_0000_AAAA_BBBB_0010_0101"],
        "rshc": ["0000_0000_AAAA_BBBB_0011_0101"],
        "lsh":  ["0000_0000_AAAA_BBBB_0100_0101"],
        "lshc": ["0000_0000_AAAA_BBBB_0101_0101"],
        "rsha": ["0000_0000_AAAA_BBBB_0110_0101"],
        "cmp": ["0000_0000_AAAA_BBBB_0000_0010"],
        "test": ["0000_0000_AAAA_BBBB_0000_0111"],

        "addi":  ["BBBB_BBBB_AAAA_CCCC_0000_1001"],
        "adci":  ["BBBB_BBBB_AAAA_CCCC_0001_1001"],
        "subi":  ["BBBB_BBBB_AAAA_CCCC_0010_1001"],
        "sbci":  ["BBBB_BBBB_AAAA_CCCC_0011_1001"],
        "ori":   ["BBBB_BBBB_AAAA_CCCC_0110_1001"],
        "andi":  ["BBBB_BBBB_AAAA_CCCC_0111_1001"],
        "xori":  ["BBBB_BBBB_AAAA_CCCC_1000_1001"],
        "rshci": ["AAAA_AAAA_0000_BBBB_1010_1001"],
        "lshci": ["AAAA_AAAA_0000_BBBB_1100_1001"],
        "cmpi":  ["BBBB_BBBB_AAAA_0000_0010_1001"],
        "testi": ["BBBB_BBBB_AAAA_0000_0111_1001"],

        "jmp":  ["AAAA_AAAA_AAAA_AAAA_0000_1010"],
        "jze":  ["AAAA_AAAA_AAAA_AAAA_0001_1010"],
        "jne":  ["AAAA_AAAA_AAAA_AAAA_0010_1010"],
        "jnn":  ["AAAA_AAAA_AAAA_AAAA_0011_1010"],
        "jca":  ["AAAA_AAAA_AAAA_AAAA_0100_1010"],
        "jnc":  ["AAAA_AAAA_AAAA_AAAA_0101_1010"],
        "jnz":  ["AAAA_AAAA_AAAA_AAAA_0110_1010"],
        "jgt":  ["AAAA_AAAA_AAAA_AAAA_0111_1010"],
        "jle":  ["AAAA_AAAA_AAAA_AAAA_1000_1010"],
        "jult": ["AAAA_AAAA_AAAA_AAAA_1001_1010"],
        "juge": ["AAAA_AAAA_AAAA_AAAA_1010_1010"],
        "jpos": ["AAAA_AAAA_AAAA_AAAA_1011_1010"],
        "jov":  ["AAAA_AAAA_AAAA_AAAA_1100_1010"],
        "jnov": ["AAAA_AAAA_AAAA_AAAA_1101_1010"]
    }
}    